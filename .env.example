# =============================================================================
# Nini 配置文件示例
# =============================================================================
# 复制此文件为 .env 并根据实际情况修改配置值
# cp .env.example .env
#
# 加载优先级：
# 1. 进程环境变量
# 2. .env 文件
# 3. 代码默认值
# =============================================================================

# =============================================================================
# === 基础配置 ===
# =============================================================================

# 应用名称
# NINI_APP_NAME=Nini

# 是否启用调试模式（开启后输出详细日志）
# NINI_DEBUG=false

# 数据根目录（上传文件、会话数据、数据库等）
# 相对路径基于项目根目录
# NINI_DATA_DIR=./data

# =============================================================================
# === 模型配置 ===
# =============================================================================
# Nini 支持多种模型提供商，按优先级自动路由，失败自动降级
# 至少配置一个模型提供商的 API Key

# -----------------------------------------------------------------------------
# 国际模型 - OpenAI
# -----------------------------------------------------------------------------
NINI_OPENAI_API_KEY=your-openai-api-key-here
# NINI_OPENAI_BASE_URL=                           # 可选，OpenAI 兼容地址
# NINI_OPENAI_MODEL=gpt-4o                        # 可选 gpt-4o-mini, gpt-4-turbo

# -----------------------------------------------------------------------------
# 国际模型 - Anthropic (Claude)
# -----------------------------------------------------------------------------
NINI_ANTHROPIC_API_KEY=your-anthropic-api-key-here
# NINI_ANTHROPIC_MODEL=claude-sonnet-4-20250514   # 可选 claude-opus-4-5-20250514

# -----------------------------------------------------------------------------
# 国产模型 - Moonshot AI (Kimi)
# -----------------------------------------------------------------------------
# NINI_MOONSHOT_API_KEY=your-moonshot-api-key-here
# NINI_MOONSHOT_MODEL=moonshot-v1-8k             # 可选 moonshot-v1-32k, moonshot-v1-128k

# -----------------------------------------------------------------------------
# 国产模型 - Kimi Coding (kimi.com Coding Plan)
# -----------------------------------------------------------------------------
# NINI_KIMI_CODING_API_KEY=your-kimi-coding-api-key-here
# NINI_KIMI_CODING_BASE_URL=https://api.kimi.com/coding/v1
# NINI_KIMI_CODING_MODEL=kimi-for-coding

# -----------------------------------------------------------------------------
# 国产模型 - 智谱 AI (GLM)
# -----------------------------------------------------------------------------
# NINI_ZHIPU_API_KEY=your-zhipu-api-key-here
# NINI_ZHIPU_BASE_URL=https://open.bigmodel.cn/api/coding/paas/v4   # Coding Plan 端点
# NINI_ZHIPU_MODEL=glm-4                          # 可选 glm-4.7, glm-4.6, glm-4.5, glm-4-plus, glm-4-flash

# -----------------------------------------------------------------------------
# 国产模型 - DeepSeek
# -----------------------------------------------------------------------------
# NINI_DEEPSEEK_API_KEY=your-deepseek-api-key-here
# NINI_DEEPSEEK_MODEL=deepseek-chat              # 可选 deepseek-coder, deepseek-reasoner

# -----------------------------------------------------------------------------
# 国产模型 - 阿里百炼（通义千问）
# -----------------------------------------------------------------------------
# NINI_DASHSCOPE_API_KEY=your-dashscope-api-key-here
# NINI_DASHSCOPE_MODEL=qwen-plus                 # 可选 qwen-turbo, qwen-max

# -----------------------------------------------------------------------------
# 本地模型 - Ollama
# -----------------------------------------------------------------------------
# NINI_OLLAMA_BASE_URL=http://localhost:11434
# NINI_OLLAMA_MODEL=qwen2.5:7b

# =============================================================================
# === LLM 通用参数 ===
# =============================================================================

# 采样温度（0.0-2.0，值越低输出越确定）
# NINI_LLM_TEMPERATURE=0.3

# 单次请求最大输出 token 数
# NINI_LLM_MAX_TOKENS=4096

# 模型调用失败时的重试次数
# NINI_LLM_MAX_RETRIES=3

# 是否信任系统代理设置（HTTP_PROXY/HTTPS_PROXY）
# NINI_LLM_TRUST_ENV_PROXY=false

# =============================================================================
# === Agent 配置 ===
# =============================================================================

# 单轮对话最大 ReAct 迭代次数
# <=0 表示不限制（仅受用户中止或模型自然收敛约束）
# NINI_AGENT_MAX_ITERATIONS=0

# =============================================================================
# === 上传配置 ===
# =============================================================================

# 单文件最大字节数（默认 50MB）
# NINI_MAX_UPLOAD_SIZE=52428800

# 允许上传的文件扩展名（逗号分隔）
# NINI_ALLOWED_EXTENSIONS=csv,xlsx,xls,tsv,txt

# =============================================================================
# === 沙箱配置 ===
# =============================================================================
# 代码执行沙箱的安全限制

# run_code 超时时间（秒），含代码执行和 DataFrame 序列化时间
# NINI_SANDBOX_TIMEOUT=60

# run_code 内存上限（MB）
# NINI_SANDBOX_MAX_MEMORY_MB=512

# 图片导出（kaleido 渲染）专用超时（秒）
# NINI_SANDBOX_IMAGE_EXPORT_TIMEOUT=60

# =============================================================================
# === 知识库配置 ===
# =============================================================================

# 每次注入的知识条目数量上限
# NINI_KNOWLEDGE_MAX_ENTRIES=3

# 注入知识总字符数上限
# NINI_KNOWLEDGE_MAX_CHARS=3000

# OpenAI embedding 模型（需配置 NINI_OPENAI_API_KEY）
# NINI_KNOWLEDGE_OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# 本地 embedding 模型（无需 API Key）
# NINI_KNOWLEDGE_LOCAL_EMBEDDING_MODEL=BAAI/bge-small-zh-v1.5

# =============================================================================
# === 上下文压缩配置 ===
# =============================================================================

# 是否启用自动上下文压缩
# NINI_AUTO_COMPRESS_ENABLED=true

# 触发压缩的 token 阈值
# NINI_AUTO_COMPRESS_THRESHOLD_TOKENS=30000

# 压缩后目标 token 数
# NINI_AUTO_COMPRESS_TARGET_TOKENS=15000

# =============================================================================
# === Prompt 配置 ===
# =============================================================================

# 单个 prompt 组件最大字符数
# NINI_PROMPT_COMPONENT_MAX_CHARS=20000

# prompt 总字符数上限
# NINI_PROMPT_TOTAL_MAX_CHARS=60000

# Markdown 技能定义目录
# NINI_SKILLS_DIR_PATH=./skills
